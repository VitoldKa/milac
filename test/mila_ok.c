#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <time.h>
#include <glib.h>

#include "test.h"
#include "mila.h"

#include "log.h"

int DRY_RUN = 1;

// char str[] = "Return-Path: <ubuntu@ip-172-31-40-44.eu-west-1.compute.internal>\r\nDelivered-To: xxx@xxx.com\r\nReceived: from localhost (localhost [127.0.0.1])\r\n\tby mail.localdomain (Postfix) with ESMTP id 1A3FEB7BBC\r\n\tfor <xxx@xxx.com>; Fri, 20 Oct 2017 15:45:18 +0200 (CEST)\r\nX-Virus-Scanned: Debian amavisd-new at mail.ctrl-alt-del.info\r\nAuthentication-Results: ns1.ctrl-alt-del.info (amavisd-new);\r\n\tdkim=pass (1024-bit key) header.d=mila.com header.b=IJFHOzqO;\r\n\tdkim=pass (1024-bit key) header.d=mandrillapp.com header.b=bYwTw0yF\r\nReceived: from mail.localdomain ([127.0.0.1])\r\n\tby localhost (ns1.ctrl-alt-del.info [127.0.0.1]) (amavisd-new, port 10024)\r\n\twith ESMTP id 2BRjt06V8aiS for <xxx@xxx.com>;\r\n\tFri, 20 Oct 2017 15:45:17 +0200 (CEST)\r\nReceived: from ip-172-31-40-44.eu-west-1.compute.internal (ec2-52-214-187-57.eu-west-1.compute.amazonaws.com [52.214.187.57])\r\n\tby mail.localdomain (Postfix) with ESMTPS id 05230B7BA5\r\n\tfor <xxx@xxx.com>; Fri, 20 Oct 2017 15:45:17 +0200 (CEST)\r\nReceived: from ip-172-31-40-44.eu-west-1.compute.internal (localhost [127.0.0.1])\r\n\tby ip-172-31-40-44.eu-west-1.compute.internal (8.15.2/8.15.2/Debian-3) with ESMTP id v9KDjG2C004262\r\n\tfor <xxx@xxx.com>; Fri, 20 Oct 2017 13:45:16 GMT\r\nReceived: (from root@localhost)\r\n\tby ip-172-31-40-44.eu-west-1.compute.internal (8.15.2/8.15.2/Submit) id v9KDjGqW004261\r\n\tfor xxx@xxx.com; Fri, 20 Oct 2017 13:45:16 GMT\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; s=mandrill; d=mila.com;\r\n h=From:Subject:Reply-To:To:Message-Id:Date:MIME-Version:Content-Type; i=no-xxx@xxx.com;\r\n bh=MlO2sBDc3AGbxeOniH1qMQkeQhwtNnA2uQHMK143lYo=;\r\n b=IJFHOzqO5mXhyuRwZcTak9OmB3bnwIhconTJ1G0/0sbXBFCuxs52wbD3n2mV/ZpXPjFl3vYKIlLE\r\n   cLXHylmnEzhC3jg/+wkpI66rSQS6lfVv/Qt5aViWQ3zv2z4yqbiqAFL8o71Pd9tUTJHBuLiOfe5O\r\n   TcRFqiYS90I85MLjZrQ=\r\nReceived: from pmta02.mandrill.prod.atl01.rsglab.com (127.0.0.1) by mail132-6.atl131.mandrillapp.com id ht7uum1sar8p for <xxx@xxx..com>; Fri, 20 Oct 2017 13:45:13 +0000 (envelope-from <bounce-md_13102323.59e9fde9.v1-xxx@xxx.com>)\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=mandrillapp.com; \r\n i=@mandrillapp.com; q=dns/txt; s=mandrill; t=1508507113; h=From : \r\n Subject : Reply-To : To : Message-Id : Date : MIME-Version : \r\n Content-Type : From : Subject : Date : X-Mandrill-User : \r\n List-Unsubscribe; bh=MlO2sBDc3AGbxeOniH1qMQkeQhwtNnA2uQHMK143lYo=; \r\n b=bYwTw0yFv8gA+Nvs1BdaCWjnVcOLkUtwKt6MULxIewPC77aWyc3Z7RrUXLi4B5JLcsaLat\r\n VYUjqOP6LbCFWmfZQHrf5dV7JHYFHKHHgqeIIYMcgMTlVKSsgYPp2KbhGdu1IBOEAE+GzMOZ\r\n qyrPu7eJgIn24P4ly7yyEviM5IHcA=\r\nFrom: Mila <no-xxx@xxx.com>\r\nSubject: =?utf-8?Q?Vous=20avez=20une=20nouvelle=20demande=20=C3=A0=20Petit-Lancy?=\r\nReceived: from [54.171.196.42] by mandrillapp.com id 9738264c62d94fed98741fb2fff29367; Fri, 20 Oct 2017 13:45:13 +0000\r\nReply-To: \r\nTo: <xxx@xxx..com>\r\nX-Report-Abuse: Please forward a copy of this message, including all headers, to xxx@xxx.com\r\nX-Report-Abuse: You can also report abuse here: http://mandrillapp.com/contact/abuse?id=13102323.9738264c62d94fed98741fb2fff29367\r\nX-Mandrill-User: md_13102323\r\nMessage-Id: <13102323.20171020134513.59e9fde9b06584.57548636@mail132-6.atl131.mandrillapp.com>\r\nDate: Fri, 20 Oct 2017 13:45:13 +0000\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative; boundary=\"_av-Q9VjZ-d8ZDBLGdlyXIPhBQ\"\r\n\r\n--_av-Q9VjZ-d8ZDBLGdlyXIPhBQ\r\nContent-Type: text/plain; charset=utf-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n                 \r\n       =3D=3D   =3D=3D\r\n\r\n  \r\n\r\n  =3D=3D=3D Date et lieu convenus: =3D=3D=3D\r\n\r\n  =3D=3D Date pas encore d=C3=A9finie =3D=3D\r\n\r\n  =3D=3D 1213 Petit-Lancy =3D=3D\r\n\r\n \r\n  =3D=3D=3D Paquet =3D=3D=3D\r\n\r\n Installation Swisscom (Internet, TV, T=C3=A9l=C3=A9phonie)\r\n\r\n =3D=3D=3D Votre gain =3D=3D=3D\r\n\r\n 80.00 CHF\r\n\r\n AFFICHER DANS L'APP\r\n<https://www.mila.com/loginMobile?url=3Dmila://loginWithPW/9d6e51e9/109478>=\r\n \r\nAFFICHER SUR LE WEB\r\n<https://www.mila.com/loginWithPW/7d6e92c1?next=3Dfriendservicecalls/112200=\r\n> \r\n=3D=3D=3D FAQ =3D=3D=3D\r\n\r\n Comment puis-je accepter une demande ?\r\n<http://milahelpcenter.com/fr/2016/03/21/wie-nehme-ich-einen-auftrag-an-2/>\r\n\r\n Que puis-je faire lorsque le login ne fonctionne pas ?\r\n<http://milahelpcenter.com/fr/2016/04/05/was-kann-ich-machen-wenn-der-login=\r\n-nicht-funktioniert/>\r\n=3D=3D=3D Plus =3D=3D=3D\r\n\r\n Mila Help Center <http://milahelpcenter.com> <http://www.mila.com> \r\n\r\n Pour acc=C3=A9der les FAQs, c'est par ici <http://mila.com/faq> | Vous pou=\r\nvez\r\npeux consulter nos conditions g=C3=A9n=C3=A9rales (CGV) ici\r\n<http://www.mila.com/legal> \r\n  Mila AG\r\n Gutenbergstrasse 1, CH-8002 Z=C3=BCrich\r\n Capital CHF 395 880\r\n CHE-220.287.171\r\n\r\n--_av-Q9VjZ-d8ZDBLGdlyXIPhBQ\r\nContent-Type: text/html; charset=utf-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n<!DOCTYPE html>\r\n<html>\r\n    <head>\r\n               <style>\r\n@media only screen and (max-width: 300px) {\r\n  tr,\r\ntable {\r\n    width: 100%;\r\n    font-family: Arial;\r\n  }\r\n\r\n  .txt-bold,\r\n.txt {\r\n    font-size: 14px;\r\n  }\r\n\r\n  .container {\r\n    margin: 0px;\r\n    padding: 0px;\r\n  }\r\n\r\n  .image {\r\n    width: 30px;\r\n    height: auto;\r\n    border-radius: 50%;\r\n  }\r\n}\r\n</style>\r\n\r\n        <meta http-equiv=3D\"Content-Type\" content=3D\"text/html; charset=3Du=\r\ntf-8\">\r\n        <!-- define viewport for mobile device -->\r\n        <meta name=3D\"viewport\" content=3D\"width=3Ddevice-width\">\r\n    </head>\r\n    <body style=3D\"background-color: #f8f7f7; margin: 0; font-family: 'aria=\r\nl, helvetica, sans-serif'; color: #58585A;\">\r\n        <table width=3D\"100%\" style=3D\"line-height: 24px; font-size: 16px; =\r\nfont-family: Arial;\">\r\n            <!-- SWISSCOM HEADER -->\r\n            <tr style=3D\"line-height: 24px; font-size: 16px; font-family: A=\r\nrial;\">\r\n                <td width=3D\"100%\" align=3D\"center\" class=3D\"bg-lightgrey\" =\r\nstyle=3D\"line-height: 24px; font-size: 16px; font-family: Arial; background=\r\n-color: #EFEFEF;\" bgcolor=3D\"#EFEFEF\">\r\n                    <div class=3D\"header\" style=3D\"width: 80%; max-width: 6=\r\n50px; text-align: left; margin: 20px 0px 20px 0px;\">\r\n                        <table style=3D\"line-height: 24px; font-size: 16px;=\r\n font-family: Arial;\">\r\n                            <td style=3D\"line-height: 24px; font-size: 16px=\r\n; font-family: Arial;\"><img src=3D\"https://www.mila.com/public/img/partner/=\r\nswisscom/logoEmail.png\" border=3D\"0\" width=3D\"100%\"></td>\r\n                        </table>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n<!-- END SWISSCOM HEADER -->\r\n\r\n            <tr style=3D\"line-height: 24px; font-size: 16px; font-family: A=\r\nrial;\">\r\n                <td align=3D\"center\" style=3D\"line-height: 24px; font-size:=\r\n 16px; font-family: Arial;\">\r\n                    <div class=3D\"container\" style=3D\"width: 100%; max-widt=\r\nh: 650px; margin: 45px 0px 45px 0px; text-align: left; padding: 0px;\">\r\n                        <h2 style=3D\"text-decoration: none; font-size: 23px=\r\n; color: #58585A; margin: 0px;\">\r\n                            \r\n                        </h2>\r\n                        <p style=3D\"margin:0px;background-color:#ffffff;\">\r\n                            \r\n                        </p>\r\n                        <div class=3D\"bg-darkblue-top\" style=3D\"background-=\r\ncolor: #56AFEA; color: #FFFFFF; border-radius: 15px 15px 0px 0px; padding: =\r\n21px 30px 10px 30px;\">\r\n  <h4>Date et lieu convenus:</h4>\r\n  =09\r\n  =09<img src=3D\"https://www.mila.com/public/icons/android-calendar.png\" wi=\r\ndth=3D\"25px\" class=3D\"flo-l mrl\" style=3D\"margin-right: 20px; float: left;\"=\r\n>\r\n  =09<h2 style=3D\"text-decoration: none; font-size: 23px; color: white; fon=\r\nt-weight: lighter;\">Date pas encore d=C3=A9finie</h2>\r\n  \r\n  <img src=3D\"https://www.mila.com/public/icons/ion-ios-location-outline.pn=\r\ng\" width=3D\"25px\" class=3D\"flo-l mrl\" style=3D\"margin-right: 20px; float: l=\r\neft;\">\r\n  <h2 style=3D\"text-decoration: none; font-size: 23px; color: white; font-w=\r\neight: lighter;\">1213 Petit-Lancy</h2>\r\n</div>\r\n<div class=3D\"bg-white-bottom\" style=3D\"background-color: #FFFFFF; border-r=\r\nadius: 0px 0px 15px 15px; padding: 10px 30px 0px 30px;\">\r\n  <h4 style=3D\"margin-bottom:8px\">Paquet</h4>\r\n  <p class=3D\"mz\" style=3D\"margin: 0px;\">Installation Swisscom (Internet, T=\r\nV, T=C3=A9l=C3=A9phonie)</p>\r\n  <h4 style=3D\"margin-bottom:8px\">Votre gain</h4>\r\n  <p class=3D\"mz\" style=3D\"margin: 0px; margin-bottom: 40px;\">80.00 CHF</p>\r\n  <a href=3D\"https://mandrillapp.com/track/click/13102323/www.mila.com?p=3D=\r\neyJzIjoiYm5iaXFiMktLZE12cFo0VE1VdGl2dm9uZU9NIiwidiI6MSwicCI6IntcInVcIjoxMzE=\r\nwMjMyMyxcInZcIjoxLFwidXJsXCI6XCJodHRwczpcXFwvXFxcL3d3dy5taWxhLmNvbVxcXC9sb2=\r\ndpbk1vYmlsZT91cmw9bWlsYTpcXFwvXFxcL2xvZ2luV2l0aFBXXFxcLzlkNmU1MWU5XFxcLzEwO=\r\nTQ3OFwiLFwiaWRcIjpcIjk3MzgyNjRjNjJkOTRmZWQ5ODc0MWZiMmZmZjI5MzY3XCIsXCJ1cmxf=\r\naWRzXCI6W1wiZDhjMDA1ODI0OWRjZDgxNWRiNDQwZjljNWM3YzgwMGU2Y2ZmNTJmOVwiXX0ifQ\"=\r\n class=3D\"button-round\" style=3D\"background-color: #56AFEA; text-decoration=\r\n: none; color: #FFFFFF; padding-top: 7px; padding-bottom: 7px; border-radiu=\r\ns: 20px; margin-top: 13px; display: block; text-align: center; max-width: 2=\r\n40px; font-size: 14px; margin-bottom: 30px;\">AFFICHER DANS L'APP </a>\r\n    <a href=3D\"https://mandrillapp.com/track/click/13102323/www.mila.com?p=\r\n=3DeyJzIjoiZjYtQXZENzVzMG1POUpUb200SHNDcjhOSTJrIiwidiI6MSwicCI6IntcInVcIjox=\r\nMzEwMjMyMyxcInZcIjoxLFwidXJsXCI6XCJodHRwczpcXFwvXFxcL3d3dy5taWxhLmNvbVxcXC9=\r\nsb2dpbldpdGhQV1xcXC85ZDZlNTFlOT9uZXh0PWZyaWVuZHNlcnZpY2VjYWxsc1xcXC8xMDk0Nz=\r\nhcIixcImlkXCI6XCI5NzM4MjY0YzYyZDk0ZmVkOTg3NDFmYjJmZmYyOTM2N1wiLFwidXJsX2lkc=\r\n1wiOltcImQzZDFkYTExN2E2MTFjNGRhOWY4MzUzZGFjMGExYmYyYjUxZWQ0OTZcIl19In0\" cla=\r\nss=3D\"button-frame\" style=3D\"text-decoration: none; color: #4f8fce; padding=\r\n-top: 7px; padding-bottom: 7px; border-radius: 20px; margin-top: 13px; bord=\r\ner: solid 2px; display: block; text-align: center; max-width: 240px; font-s=\r\nize: 14px;\"> AFFICHER SUR LE WEB </a>\r\n  <div>\r\n    <h4 style=3D\"margin-top:40px;margin-bottom:8px\">FAQ</h4>\r\n    <a href=3D\"https://mandrillapp.com/track/click/13102323/milahelpcenter.=\r\ncom?p=3DeyJzIjoiNmxMQmpPdEw3RE5VUHZJUjFzdWE5T0Rta3RFIiwidiI6MSwicCI6IntcInV=\r\ncIjoxMzEwMjMyMyxcInZcIjoxLFwidXJsXCI6XCJodHRwOlxcXC9cXFwvbWlsYWhlbHBjZW50ZX=\r\nIuY29tXFxcL2ZyXFxcLzIwMTZcXFwvMDNcXFwvMjFcXFwvd2llLW5laG1lLWljaC1laW5lbi1hd=\r\nWZ0cmFnLWFuLTJcXFwvXCIsXCJpZFwiOlwiOTczODI2NGM2MmQ5NGZlZDk4NzQxZmIyZmZmMjkz=\r\nNjdcIixcInVybF9pZHNcIjpbXCIwNWFjZWZmZTc5ZGVhMDk0NWRlYWQzNzMzYzJlMTYwMWNjMTk=\r\n0ZmQ4XCJdfSJ9\" style=3D\"color: #56aFea; text-decoration: none;\">Comment pui=\r\ns-je accepter une demande ?</a>\r\n    <br>\r\n    <a href=3D\"https://mandrillapp.com/track/click/13102323/milahelpcenter.=\r\ncom?p=3DeyJzIjoiTmhfVEY2aWVCRF9wQkxzUTBQX082VDBoaWRNIiwidiI6MSwicCI6IntcInV=\r\ncIjoxMzEwMjMyMyxcInZcIjoxLFwidXJsXCI6XCJodHRwOlxcXC9cXFwvbWlsYWhlbHBjZW50ZX=\r\nIuY29tXFxcL2ZyXFxcLzIwMTZcXFwvMDRcXFwvMDVcXFwvd2FzLWthbm4taWNoLW1hY2hlbi13Z=\r\nW5uLWRlci1sb2dpbi1uaWNodC1mdW5rdGlvbmllcnRcXFwvXCIsXCJpZFwiOlwiOTczODI2NGM2=\r\nMmQ5NGZlZDk4NzQxZmIyZmZmMjkzNjdcIixcInVybF9pZHNcIjpbXCJlOGFhNjVmYmQxZjRhZTM=\r\n3NzFkYWE1MmYzZmEwYTg1YjE5NGZiOTM4XCJdfSJ9\" style=3D\"color: #56aFea; text-de=\r\ncoration: none;\">Que puis-je faire lorsque le login ne fonctionne pas ?</a>\r\n    <h4 style=3D\"margin-bottom:8px\">Plus</h4>\r\n    <a href=3D\"https://mandrillapp.com/track/click/13102323/milahelpcenter.=\r\ncom?p=3DeyJzIjoieWxoVnAwSXRjT3lCZVRPd25lNjFoRWM0dV9BIiwidiI6MSwicCI6IntcInV=\r\ncIjoxMzEwMjMyMyxcInZcIjoxLFwidXJsXCI6XCJodHRwOlxcXC9cXFwvbWlsYWhlbHBjZW50ZX=\r\nIuY29tXCIsXCJpZFwiOlwiOTczODI2NGM2MmQ5NGZlZDk4NzQxZmIyZmZmMjkzNjdcIixcInVyb=\r\nF9pZHNcIjpbXCI3NGU5NGI5MDgzOTZkNWQzY2FmM2UyNDE3MzA5ZTBkMzEyZjY5N2E0XCJdfSJ9=\r\n\" style=3D\"color: #56aFea; text-decoration: none;\">Mila Help Center</a>\r\n    <br>\r\n  </div>\r\n  <br>\r\n  <br>\r\n</div>\r\n\r\n                        \r\n                    </div>\r\n                    <div class=3D\"footer\" style=3D\"margin-top: 30px; margin=\r\n-bottom: 30px; border-top: 1px solid #D8D8D8; padding-top: 5px; text-align:=\r\n center; color: #999999; font-size: 14px;\">\r\n  <p>\r\n    <a href=3D\"https://mandrillapp.com/track/click/13102323/www.mila.com?p=\r\n=3DeyJzIjoiODd5R3U3Z3FvT2kwNVhLcEJkdmg3U1E3QnZRIiwidiI6MSwicCI6IntcInVcIjox=\r\nMzEwMjMyMyxcInZcIjoxLFwidXJsXCI6XCJodHRwOlxcXC9cXFwvd3d3Lm1pbGEuY29tXCIsXCJ=\r\npZFwiOlwiOTczODI2NGM2MmQ5NGZlZDk4NzQxZmIyZmZmMjkzNjdcIixcInVybF9pZHNcIjpbXC=\r\nI5NmZlZjFkOGU4ODU0NmIxODBmMmQ4YTEzNzRlMGQ0YmI2OGNhNGExXCJdfSJ9\" target=3D\"b=\r\nlank\" style=3D\"color: #999999;\"><img src=3D\"https://www.mila.com/public/img=\r\n/appMail/Mila_Logo_blau.png\" width=3D\"45px\" class=3D\"opacity-half\"></a>\r\n  </p>\r\n  <a href=3D\"https://mandrillapp.com/track/click/13102323/mila.com?p=3DeyJz=\r\nIjoibkxNVkNUeDdBb3BNalU3U2NtU0VRYXc3dnBzIiwidiI6MSwicCI6IntcInVcIjoxMzEwMjM=\r\nyMyxcInZcIjoxLFwidXJsXCI6XCJodHRwOlxcXC9cXFwvbWlsYS5jb21cXFwvZmFxXCIsXCJpZF=\r\nwiOlwiOTczODI2NGM2MmQ5NGZlZDk4NzQxZmIyZmZmMjkzNjdcIixcInVybF9pZHNcIjpbXCIzN=\r\nDczMzk4NzUwOWEzYjY0NDJkZTMyMmFjNzM5ZjA2ZjhhYmVkNTlhXCJdfSJ9\" style=3D\"color=\r\n: #999999;\">Pour acc=C3=A9der les FAQs, c'est par ici</a> | <a href=3D\"http=\r\ns://mandrillapp.com/track/click/13102323/www.mila.com?p=3DeyJzIjoiOHpwUEpZe=\r\nmY5c0VfU290MDI2SFhHUXAxb3VZIiwidiI6MSwicCI6IntcInVcIjoxMzEwMjMyMyxcInZcIjox=\r\nLFwidXJsXCI6XCJodHRwOlxcXC9cXFwvd3d3Lm1pbGEuY29tXFxcL2xlZ2FsXCIsXCJpZFwiOlw=\r\niOTczODI2NGM2MmQ5NGZlZDk4NzQxZmIyZmZmMjkzNjdcIixcInVybF9pZHNcIjpbXCIxYTg3MG=\r\nQzMDMyYzM3MjI2NmI3ZTgwZGI2ZTE0YTdhYWE2ZjRmZWIwXCJdfSJ9\" style=3D\"color: #99=\r\n9999;\">Vous pouvez peux consulter nos conditions g=C3=A9n=C3=A9rales (CGV) =\r\nici</a>\r\n</div>\r\n<p style=3D\"font-size: 14px;color:#999999;\">\r\n  Mila AG<br>\r\n  Gutenbergstrasse 1, CH-8002 Z=C3=BCrich<br>\r\n  Capital CHF 395 880<br>\r\n  CHE-220.287.171<br>\r\n</p>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    <img src=3D\"https://mandrillapp.com/track/open.php?u=3D13102323&id=3D97=\r\n38264c62d94fed98741fb2fff29367\" height=3D\"1\" width=3D\"1\"></body>\r\n</html>\r\n\r\n--_av-Q9VjZ-d8ZDBLGdlyXIPhBQ--\r\n";
char str[] = "Return-Path: <ubuntu@ip-172-31-40-44.eu-west-1.compute.internal>\r\nDelivered-To: xxx@xxx.com\r\nReceived: from localhost (localhost [127.0.0.1])\r\n\tby mail.localdomain (Postfix) with ESMTP id 1A3FEB7BBC\r\n\tfor <xxx@xxx.com>; Fri, 20 Oct 2017 15:45:18 +0200 (CEST)\r\nX-Virus-Scanned: Debian amavisd-new at mail.ctrl-alt-del.info\r\nAuthentication-Results: ns1.ctrl-alt-del.info (amavisd-new);\r\n\tdkim=pass (1024-bit key) header.d=mila.com header.b=IJFHOzqO;\r\n\tdkim=pass (1024-bit key) header.d=mandrillapp.com header.b=bYwTw0yF\r\nReceived: from mail.localdomain ([127.0.0.1])\r\n\tby localhost (ns1.ctrl-alt-del.info [127.0.0.1]) (amavisd-new, port 10024)\r\n\twith ESMTP id 2BRjt06V8aiS for <xxx@xxx.com>;\r\n\tFri, 20 Oct 2017 15:45:17 +0200 (CEST)\r\nReceived: from ip-172-31-40-44.eu-west-1.compute.internal (ec2-52-214-187-57.eu-west-1.compute.amazonaws.com [52.214.187.57])\r\n\tby mail.localdomain (Postfix) with ESMTPS id 05230B7BA5\r\n\tfor <xxx@xxx.com>; Fri, 20 Oct 2017 15:45:17 +0200 (CEST)\r\nReceived: from ip-172-31-40-44.eu-west-1.compute.internal (localhost [127.0.0.1])\r\n\tby ip-172-31-40-44.eu-west-1.compute.internal (8.15.2/8.15.2/Debian-3) with ESMTP id v9KDjG2C004262\r\n\tfor <xxx@xxx.com>; Fri, 20 Oct 2017 13:45:16 GMT\r\nReceived: (from root@localhost)\r\n\tby ip-172-31-40-44.eu-west-1.compute.internal (8.15.2/8.15.2/Submit) id v9KDjGqW004261\r\n\tfor xxx@xxx.com; Fri, 20 Oct 2017 13:45:16 GMT\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; s=mandrill; d=mila.com;\r\n h=From:Subject:Reply-To:To:Message-Id:Date:MIME-Version:Content-Type; i=no-xxx@xxx.com;\r\n bh=MlO2sBDc3AGbxeOniH1qMQkeQhwtNnA2uQHMK143lYo=;\r\n b=IJFHOzqO5mXhyuRwZcTak9OmB3bnwIhconTJ1G0/0sbXBFCuxs52wbD3n2mV/ZpXPjFl3vYKIlLE\r\n   cLXHylmnEzhC3jg/+wkpI66rSQS6lfVv/Qt5aViWQ3zv2z4yqbiqAFL8o71Pd9tUTJHBuLiOfe5O\r\n   TcRFqiYS90I85MLjZrQ=\r\nReceived: from pmta02.mandrill.prod.atl01.rsglab.com (127.0.0.1) by mail132-6.atl131.mandrillapp.com id ht7uum1sar8p for <xxx@xxx..com>; Fri, 20 Oct 2017 13:45:13 +0000 (envelope-from <bounce-md_13102323.59e9fde9.v1-xxx@xxx.com>)\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=mandrillapp.com; \r\n i=@mandrillapp.com; q=dns/txt; s=mandrill; t=1508507113; h=From : \r\n Subject : Reply-To : To : Message-Id : Date : MIME-Version : \r\n Content-Type : From : Subject : Date : X-Mandrill-User : \r\n List-Unsubscribe; bh=MlO2sBDc3AGbxeOniH1qMQkeQhwtNnA2uQHMK143lYo=; \r\n b=bYwTw0yFv8gA+Nvs1BdaCWjnVcOLkUtwKt6MULxIewPC77aWyc3Z7RrUXLi4B5JLcsaLat\r\n VYUjqOP6LbCFWmfZQHrf5dV7JHYFHKHHgqeIIYMcgMTlVKSsgYPp2KbhGdu1IBOEAE+GzMOZ\r\n qyrPu7eJgIn24P4ly7yyEviM5IHcA=\r\nFrom: Mila <no-xxx@xxx.com>\r\nSubject: =?utf-8?Q?Vous=20avez=20une=20nouvelle=20demande=20=C3=A0=20Petit-Lancy?=\r\nReceived: from [54.171.196.42] by mandrillapp.com id 9738264c62d94fed98741fb2fff29367; Fri, 20 Oct 2017 13:45:13 +0000\r\nReply-To: \r\nTo: <xxx@xxx..com>\r\nX-Report-Abuse: Please forward a copy of this message, including all headers, to xxx@xxx.com\r\nX-Report-Abuse: You can also report abuse here: http://mandrillapp.com/contact/abuse?id=13102323.9738264c62d94fed98741fb2fff29367\r\nX-Mandrill-User: md_13102323\r\nMessage-Id: <13102323.20171020134513.59e9fde9b06584.57548636@mail132-6.atl131.mandrillapp.com>\r\nDate: Fri, 20 Oct 2017 13:45:13 +0000\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative; boundary=\"_av-Q9VjZ-d8ZDBLGdlyXIPhBQ\"\r\n\r\n--_av-Q9VjZ-d8ZDBLGdlyXIPhBQ\r\nContent-Type: text/plain; charset=utf-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n                 \r\n       =3D=3D   =3D=3D\r\n\r\n  \r\n\r\n  =3D=3D=3D Date et lieu convenus: =3D=3D=3D\r\n\r\n  =3D=3D Date pas encore d=C3=A9finie =3D=3D\r\n\r\n  =3D=3D 1213 Petit-Lancy =3D=3D\r\n\r\n \r\n  =3D=3D=3D Paquet =3D=3D=3D\r\n\r\n Installation Swisscom (Internet, TV, T=C3=A9l=C3=A9phonie)\r\n\r\n =3D=3D=3D Votre gain =3D=3D=3D\r\n\r\n 80.00 CHF\r\n\r\n AFFICHER DANS L'APP\r\n<https://www.mila.com/loginMobile?url=3Dmila://loginWithPW/9d6e51e9/109478>=\r\n \r\nAFFICHER SUR LE WEB\r\n<https://www.mila.com/loginWithPW/7d6e92c1?next=3Dfriendservicecalls/112200=\r\n> \r\n=3D=3D=3D FAQ =3D=3D=3D\r\n\r\n Comment puis-je accepter une demande ?\r\n<http://milahelpcenter.com/fr/2016/03/21/wie-nehme-ich-einen-auftrag-an-2/>\r\n\r\n Que puis-je faire lorsque le login ne fonctionne pas ?\r\n<http://milahelpcenter.com/fr/2016/04/05/was-kann-ich-machen-wenn-der-login=\r\n-nicht-funktioniert/>\r\n=3D=3D=3D Plus =3D=3D=3D\r\n\r\n Mila Help Center <http://milahelpcenter.com> <http://www.mila.com> \r\n\r\n Pour acc=C3=A9der les FAQs, c'est par ici <http://mila.com/faq> | Vous pou=\r\nvez\r\npeux consulter nos conditions g=C3=A9n=C3=A9rales (CGV) ici\r\n<http://www.mila.com/legal> \r\n  Mila AG\r\n Gutenbergstrasse 1, CH-8002 Z=C3=BCrich\r\n Capital CHF 395 880\r\n CHE-220.287.171\r\n\r\n--_av-Q9VjZ-d8ZDBLGdlyXIPhBQ\r\nContent-Type: text/html; charset=utf-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n<!DOCTYPE html>\r\n<html>\r\n    <head>\r\n               <style>\r\n@media only screen and (max-width: 300px) {\r\n  tr,\r\ntable {\r\n    width: 100%;\r\n    font-family: Arial;\r\n  }\r\n\r\n  .txt-bold,\r\n.txt {\r\n    font-size: 14px;\r\n  }\r\n\r\n  .container {\r\n    margin: 0px;\r\n    padding: 0px;\r\n  }\r\n\r\n  .image {\r\n    width: 30px;\r\n    height: auto;\r\n    border-radius: 50%;\r\n  }\r\n}\r\n</style>\r\n\r\n        <meta http-equiv=3D\"Content-Type\" content=3D\"text/html; charset=3Du=\r\ntf-8\">\r\n        <!-- define viewport for mobile device -->\r\n        <meta name=3D\"viewport\" content=3D\"width=3Ddevice-width\">\r\n    </head>\r\n    <body style=3D\"background-color: #f8f7f7; margin: 0; font-family: 'aria=\r\nl, helvetica, sans-serif'; color: #58585A;\">\r\n        <table width=3D\"100%\" style=3D\"line-height: 24px; font-size: 16px; =\r\nfont-family: Arial;\">\r\n            <!-- SWISSCOM HEADER -->\r\n            <tr style=3D\"line-height: 24px; font-size: 16px; font-family: A=\r\nrial;\">\r\n                <td width=3D\"100%\" align=3D\"center\" class=3D\"bg-lightgrey\" =\r\nstyle=3D\"line-height: 24px; font-size: 16px; font-family: Arial; background=\r\n-color: #EFEFEF;\" bgcolor=3D\"#EFEFEF\">\r\n                    <div class=3D\"header\" style=3D\"width: 80%; max-width: 6=\r\n50px; text-align: left; margin: 20px 0px 20px 0px;\">\r\n                        <table style=3D\"line-height: 24px; font-size: 16px;=\r\n font-family: Arial;\">\r\n                            <td style=3D\"line-height: 24px; font-size: 16px=\r\n; font-family: Arial;\"><img src=3D\"https://www.mila.com/public/img/partner/=\r\nswisscom/logoEmail.png\" border=3D\"0\" width=3D\"100%\"></td>\r\n                        </table>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n<!-- END SWISSCOM HEADER -->\r\n\r\n            <tr style=3D\"line-height: 24px; font-size: 16px; font-family: A=\r\nrial;\">\r\n                <td align=3D\"center\" style=3D\"line-height: 24px; font-size:=\r\n 16px; font-family: Arial;\">\r\n                    <div class=3D\"container\" style=3D\"width: 100%; max-widt=\r\nh: 650px; margin: 45px 0px 45px 0px; text-align: left; padding: 0px;\">\r\n                        <h2 style=3D\"text-decoration: none; font-size: 23px=\r\n; color: #58585A; margin: 0px;\">\r\n                            \r\n                        </h2>\r\n                        <p style=3D\"margin:0px;background-color:#ffffff;\">\r\n                            \r\n                        </p>\r\n                        <div class=3D\"bg-darkblue-top\" style=3D\"background-=\r\ncolor: #56AFEA; color: #FFFFFF; border-radius: 15px 15px 0px 0px; padding: =\r\n21px 30px 10px 30px;\">\r\n  <h4>Date et lieu convenus:</h4>\r\n  =09\r\n  =09<img src=3D\"https://www.mila.com/public/icons/android-calendar.png\" wi=\r\ndth=3D\"25px\" class=3D\"flo-l mrl\" style=3D\"margin-right: 20px; float: left;\"=\r\n>\r\n  =09<h2 style=3D\"text-decoration: none; font-size: 23px; color: white; fon=\r\nt-weight: lighter;\">Date pas encore d=C3=A9finie</h2>\r\n  \r\n  <img src=3D\"https://www.mila.com/public/icons/ion-ios-location-outline.pn=\r\ng\" width=3D\"25px\" class=3D\"flo-l mrl\" style=3D\"margin-right: 20px; float: l=\r\neft;\">\r\n  <h2 style=3D\"text-decoration: none; font-size: 23px; color: white; font-w=\r\neight: lighter;\">1213 Petit-Lancy</h2>\r\n</div>\r\n<div class=3D\"bg-white-bottom\" style=3D\"background-color: #FFFFFF; border-r=\r\nadius: 0px 0px 15px 15px; padding: 10px 30px 0px 30px;\">\r\n  <h4 style=3D\"margin-bottom:8px\">Paquet</h4>\r\n  <p class=3D\"mz\" style=3D\"margin: 0px;\">Installation Swisscom (Internet, T=\r\nV, T=C3=A9l=C3=A9phonie)</p>\r\n  <h4 style=3D\"margin-bottom:8px\">Votre gain</h4>\r\n  <p class=3D\"mz\" style=3D\"margin: 0px; margin-bottom: 40px;\">80.00 CHF</p>\r\n  <a href=3D\"https://mandrillapp.com/track/click/13102323/www.mila.com?p=3D=\r\neyJzIjoiYm5iaXFiMktLZE12cFo0VE1VdGl2dm9uZU9NIiwidiI6MSwicCI6IntcInVcIjoxMzE=\r\nwMjMyMyxcInZcIjoxLFwidXJsXCI6XCJodHRwczpcXFwvXFxcL3d3dy5taWxhLmNvbVxcXC9sb2=\r\ndpbk1vYmlsZT91cmw9bWlsYTpcXFwvXFxcL2xvZ2luV2l0aFBXXFxcLzlkNmU1MWU5XFxcLzEwO=\r\nTQ3OFwiLFwiaWRcIjpcIjk3MzgyNjRjNjJkOTRmZWQ5ODc0MWZiMmZmZjI5MzY3XCIsXCJ1cmxf=\r\naWRzXCI6W1wiZDhjMDA1ODI0OWRjZDgxNWRiNDQwZjljNWM3YzgwMGU2Y2ZmNTJmOVwiXX0ifQ\"=\r\n class=3D\"button-round\" style=3D\"background-color: #56AFEA; text-decoration=\r\n: none; color: #FFFFFF; padding-top: 7px; padding-bottom: 7px; border-radiu=\r\ns: 20px; margin-top: 13px; display: block; text-align: center; max-width: 2=\r\n40px; font-size: 14px; margin-bottom: 30px;\">AFFICHER DANS L'APP </a>\r\n    <a href=3D\"https://mandrillapp.com/track/click/13102323/www.mila.com?p=\r\n=3DeyJzIjoiZjYtQXZENzVzMG1POUpUb200SHNDcjhOSTJrIiwidiI6MSwicCI6IntcInVcIjox=\r\nMzEwMjMyMyxcInZcIjoxLFwidXJsXCI6XCJodHRwczpcXFwvXFxcL3d3dy5taWxhLmNvbVxcXC9=\r\nsb2dpbldpdGhQV1xcXC85ZDZlNTFlOT9uZXh0PWZyaWVuZHNlcnZpY2VjYWxsc1xcXC8xMDk0Nz=\r\nhcIixcImlkXCI6XCI5NzM4MjY0YzYyZDk0ZmVkOTg3NDFmYjJmZmYyOTM2N1wiLFwidXJsX2lkc=\r\n1wiOltcImQzZDFkYTExN2E2MTFjNGRhOWY4MzUzZGFjMGExYmYyYjUxZWQ0OTZcIl19In0\" cla=\r\nss=3D\"button-frame\" style=3D\"text-decoration: none; color: #4f8fce; padding=\r\n-top: 7px; padding-bottom: 7px; border-radius: 20px; margin-top: 13px; bord=\r\ner: solid 2px; display: block; text-align: center; max-width: 240px; font-s=\r\nize: 14px;\"> AFFICHER SUR LE WEB </a>\r\n  <div>\r\n    <h4 style=3D\"margin-top:40px;margin-bottom:8px\">FAQ</h4>\r\n    <a href=3D\"https://mandrillapp.com/track/click/13102323/milahelpcenter.=\r\ncom?p=3DeyJzIjoiNmxMQmpPdEw3RE5VUHZJUjFzdWE5T0Rta3RFIiwidiI6MSwicCI6IntcInV=\r\ncIjoxMzEwMjMyMyxcInZcIjoxLFwidXJsXCI6XCJodHRwOlxcXC9cXFwvbWlsYWhlbHBjZW50ZX=\r\nIuY29tXFxcL2ZyXFxcLzIwMTZcXFwvMDNcXFwvMjFcXFwvd2llLW5laG1lLWljaC1laW5lbi1hd=\r\nWZ0cmFnLWFuLTJcXFwvXCIsXCJpZFwiOlwiOTczODI2NGM2MmQ5NGZlZDk4NzQxZmIyZmZmMjkz=\r\nNjdcIixcInVybF9pZHNcIjpbXCIwNWFjZWZmZTc5ZGVhMDk0NWRlYWQzNzMzYzJlMTYwMWNjMTk=\r\n0ZmQ4XCJdfSJ9\" style=3D\"color: #56aFea; text-decoration: none;\">Comment pui=\r\ns-je accepter une demande ?</a>\r\n    <br>\r\n    <a href=3D\"https://mandrillapp.com/track/click/13102323/milahelpcenter.=\r\ncom?p=3DeyJzIjoiTmhfVEY2aWVCRF9wQkxzUTBQX082VDBoaWRNIiwidiI6MSwicCI6IntcInV=\r\ncIjoxMzEwMjMyMyxcInZcIjoxLFwidXJsXCI6XCJodHRwOlxcXC9cXFwvbWlsYWhlbHBjZW50ZX=\r\nIuY29tXFxcL2ZyXFxcLzIwMTZcXFwvMDRcXFwvMDVcXFwvd2FzLWthbm4taWNoLW1hY2hlbi13Z=\r\nW5uLWRlci1sb2dpbi1uaWNodC1mdW5rdGlvbmllcnRcXFwvXCIsXCJpZFwiOlwiOTczODI2NGM2=\r\nMmQ5NGZlZDk4NzQxZmIyZmZmMjkzNjdcIixcInVybF9pZHNcIjpbXCJlOGFhNjVmYmQxZjRhZTM=\r\n3NzFkYWE1MmYzZmEwYTg1YjE5NGZiOTM4XCJdfSJ9\" style=3D\"color: #56aFea; text-de=\r\ncoration: none;\">Que puis-je faire lorsque le login ne fonctionne pas ?</a>\r\n    <h4 style=3D\"margin-bottom:8px\">Plus</h4>\r\n    <a href=3D\"https://mandrillapp.com/track/click/13102323/milahelpcenter.=\r\ncom?p=3DeyJzIjoieWxoVnAwSXRjT3lCZVRPd25lNjFoRWM0dV9BIiwidiI6MSwicCI6IntcInV=\r\ncIjoxMzEwMjMyMyxcInZcIjoxLFwidXJsXCI6XCJodHRwOlxcXC9cXFwvbWlsYWhlbHBjZW50ZX=\r\nIuY29tXCIsXCJpZFwiOlwiOTczODI2NGM2MmQ5NGZlZDk4NzQxZmIyZmZmMjkzNjdcIixcInVyb=\r\nF9pZHNcIjpbXCI3NGU5NGI5MDgzOTZkNWQzY2FmM2UyNDE3MzA5ZTBkMzEyZjY5N2E0XCJdfSJ9=\r\n\" style=3D\"color: #56aFea; text-decoration: none;\">Mila Help Center</a>\r\n    <br>\r\n  </div>\r\n  <br>\r\n  <br>\r\n</div>\r\n\r\n                        \r\n                    </div>\r\n                    <div class=3D\"footer\" style=3D\"margin-top: 30px; margin=\r\n-bottom: 30px; border-top: 1px solid #D8D8D8; padding-top: 5px; text-align:=\r\n center; color: #999999; font-size: 14px;\">\r\n  <p>\r\n    <a href=3D\"https://mandrillapp.com/track/click/13102323/www.mila.com?p=\r\n=3DeyJzIjoiODd5R3U3Z3FvT2kwNVhLcEJkdmg3U1E3QnZRIiwidiI6MSwicCI6IntcInVcIjox=\r\nMzEwMjMyMyxcInZcIjoxLFwidXJsXCI6XCJodHRwOlxcXC9cXFwvd3d3Lm1pbGEuY29tXCIsXCJ=\r\npZFwiOlwiOTczODI2NGM2MmQ5NGZlZDk4NzQxZmIyZmZmMjkzNjdcIixcInVybF9pZHNcIjpbXC=\r\nI5NmZlZjFkOGU4ODU0NmIxODBmMmQ4YTEzNzRlMGQ0YmI2OGNhNGExXCJdfSJ9\" target=3D\"b=\r\nlank\" style=3D\"color: #999999;\"><img src=3D\"https://www.mila.com/public/img=\r\n/appMail/Mila_Logo_blau.png\" width=3D\"45px\" class=3D\"opacity-half\"></a>\r\n  </p>\r\n  <a href=3D\"https://mandrillapp.com/track/click/13102323/mila.com?p=3DeyJz=\r\nIjoibkxNVkNUeDdBb3BNalU3U2NtU0VRYXc3dnBzIiwidiI6MSwicCI6IntcInVcIjoxMzEwMjM=\r\nyMyxcInZcIjoxLFwidXJsXCI6XCJodHRwOlxcXC9cXFwvbWlsYS5jb21cXFwvZmFxXCIsXCJpZF=\r\nwiOlwiOTczODI2NGM2MmQ5NGZlZDk4NzQxZmIyZmZmMjkzNjdcIixcInVybF9pZHNcIjpbXCIzN=\r\nDczMzk4NzUwOWEzYjY0NDJkZTMyMmFjNzM5ZjA2ZjhhYmVkNTlhXCJdfSJ9\" style=3D\"color=\r\n: #999999;\">Pour acc=C3=A9der les FAQs, c'est par ici</a> | <a href=3D\"http=\r\ns://mandrillapp.com/track/click/13102323/www.mila.com?p=3DeyJzIjoiOHpwUEpZe=\r\nmY5c0VfU290MDI2SFhHUXAxb3VZIiwidiI6MSwicCI6IntcInVcIjoxMzEwMjMyMyxcInZcIjox=\r\nLFwidXJsXCI6XCJodHRwOlxcXC9cXFwvd3d3Lm1pbGEuY29tXFxcL2xlZ2FsXCIsXCJpZFwiOlw=\r\niOTczODI2NGM2MmQ5NGZlZDk4NzQxZmIyZmZmMjkzNjdcIixcInVybF9pZHNcIjpbXCIxYTg3MG=\r\nQzMDMyYzM3MjI2NmI3ZTgwZGI2ZTE0YTdhYWE2ZjRmZWIwXCJdfSJ9\" style=3D\"color: #99=\r\n9999;\">Vous pouvez peux consulter nos conditions g=C3=A9n=C3=A9rales (CGV) =\r\nici</a>\r\n</div>\r\n<p style=3D\"font-size: 14px;color:#999999;\">\r\n  Mila AG<br>\r\n  Gutenbergstrasse 1, CH-8002 Z=C3=BCrich<br>\r\n  Capital CHF 395 880<br>\r\n  CHE-220.287.171<br>\r\n</p>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    <img src=3D\"https://mandrillapp.com/track/open.php?u=3D13102323&id=3D97=\r\n38264c62d94fed98741fb2fff29367\" height=3D\"1\" width=3D\"1\"></body>\r\n</html>\r\n\r\n--_av-Q9VjZ-d8ZDBLGdlyXIPhBQ--\r\n";

char str_1[] = "test";

pthread_barrier_t barrier;


void* domila_ok(void *arg)
{
	double time_accept;
	clock_t begin;
	DIR *d = opendir("test/match/");
	struct dirent *dir;
	
	if (d)
	{
		while ((dir = readdir(d)) != NULL)
		{
			printf("file: %s\n", dir->d_name);
			if(strcmp(dir->d_name, ".") && strcmp(dir->d_name, ".."))
			{
				GENERAL(LOG_LEVEL_GENERAL, "file: %s", dir->d_name);

				char *filebuf;
				char filename[255] = "";
				strcat(filename, "test/match/");
				strcat(filename, dir->d_name);

				if(!fill_buffer_from_file(filename, &filebuf))
				{
					GString *str = g_string_new(filebuf);
					clock_t begin = clock();
					char url[255] = "";
					(mila(filebuf, strlen(filebuf), "xxx@xxx..com"), 0);

					time_accept = (double)(clock() - begin) / CLOCKS_PER_SEC;
					free(filebuf);
					g_string_free(str, TRUE);
	time_accept = (double)(clock() - begin) / CLOCKS_PER_SEC;
	printf("mila time_accept : %f\n", time_accept);
				}

			}
		}
	}
	pthread_barrier_wait(&barrier);
	return NULL;
}

int main(int argc, char *argv[])
{

	logging_SetLogFile("log_ok.log");
	logging_SetLevel(-1);
	logging_SetFacilities(-1);

	GENERAL(LOG_LEVEL_GENERAL, "\nmila_ok");

	double time_accept;
	clock_t begin;

	mila_init();





	/////////////////////////////////////////////////////////////////
	// mila_ok
	printf("mila ok\n");

	{
	DIR *d = opendir("test/match/");
	struct dirent *dir;
	
	if (d)
	{
		while ((dir = readdir(d)) != NULL)
		{
			printf("file: %s\n", dir->d_name);
			if(strcmp(dir->d_name, ".") && strcmp(dir->d_name, ".."))
			{
				GENERAL(LOG_LEVEL_GENERAL, "file: %s", dir->d_name);

				char *filebuf;
				char filename[255] = "";
				strcat(filename, "test/match/");
				strcat(filename, dir->d_name);

				if(!fill_buffer_from_file(filename, &filebuf))
				{
					GString *str = g_string_new(filebuf);
					clock_t begin = clock();
					char url[255] = "";
					TEST_EQUAL(mila(filebuf, strlen(filebuf), "xxx@xxx..com"), 0);

					time_accept = (double)(clock() - begin) / CLOCKS_PER_SEC;
					free(filebuf);
					g_string_free(str, TRUE);
	time_accept = (double)(clock() - begin) / CLOCKS_PER_SEC;
	printf("mila time_accept : %f\n", time_accept);
				}

			}
		}
	}
	}

	/////////////////////////////////////////////////////////////////
	// mila_ok multi thread test

#define numberofthreads 10

	pthread_t tid[numberofthreads];

	pthread_barrier_init(&barrier, NULL, numberofthreads+1);

	for(int c = 0; c<numberofthreads; c++)
		pthread_create(&tid[c], NULL, &domila_ok, NULL);

	pthread_barrier_wait(&barrier);








	
	TEST_END;		
}
